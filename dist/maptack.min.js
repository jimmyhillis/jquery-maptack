/*! Maptack - v0.2.2 - 2013-03-24
* https://github.com/jimmyhillis/maptack
* Copyright (c) 2013 Jimmy Hillis; Licensed MIT */
(function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e,n){var r,i,s,o=this;return this.element=e,this.placeTack=t(this.placeTack,this),this.placeTackByAddress=t(this.placeTackByAddress,this),this.$element=$(e),r=$.extend({zoom:11,center:new google.maps.LatLng((i=n.lat)!=null?i:-31.935391,(s=n.lng)!=null?s:115.858512),mapTypeId:google.maps.MapTypeId.ROADMAP},n),this.options=$.extend({logger:!1,form:{latitude:!1,longitude:!1},onTack:!1},n),this.options.logger.length||(this.options.logger=!1),this.gm=new google.maps.Map(e,r),this.current_tack=new google.maps.Marker({map:this.gm,visible:!1}),google.maps.event.addListener(this.gm,"click",function(e){return window.console.log("Yeah"),o.placeTack(e.latLng)}),this}return e.prototype.placeTackByAddress=function(e){var t,n,r=this;return t=new google.maps.Geocoder,n=function(e,t){if(t===google.maps.GeocoderStatus.OK)return t!==google.maps.GeocoderStatus.ZERO_RESULTS?(r.placeTack(e[0].geometry.location),r.gm.panTo(e[0].geometry.location)):alert("Address could not be found. Please try again")},typeof e=="string"&&t.geocode({address:e},n),this},e.prototype.placeTack=function(e){var t,n,r;return t=e.lat(),n=e.lng(),r=e,this.current_tack.setOptions({visible:!0,position:r}),this.options.onTack&&this.options.onTack.call(this,t,n),this.options.form.latitude&&this.options.form.latitude.val(t),this.options.form.longitude&&this.options.form.longitude.val(n),this.options.logger&&this.options.logger.append("<div>"+e.toString()+"</div>"),this},e}(),$.fn.maptack=function(t){return $(this).each(function(n){var r,i;r=$(this),i=r.data("maptack");if(i==null)return r.data("maptack",i=new e(this,t))}),this}}).call(this);